{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst spinner = document.querySelector('.loader');\n\nfunction showSpinner() {\n  spinner.style.display = 'flex';\n}\n\nexport function hideSpinner() {\n  spinner.style.display = 'none';\n}\n\nexport function getPicturesByQuery(query) {\n  const API_KEY = '44773491-691b01ebde89d181347bf66a7';\n  showSpinner();\n  return fetch(\n    `https://pixabay.com/api/?key=${API_KEY}&q=${query}&image_type=photo&orientation=horizontal&safesearch=true`\n  ).then(res => {\n    if (!res.ok) {\n      throw new Error(res.status);\n    }\n    return res.json();\n  });\n}\n\nexport function onFetchError(error) {\n  iziToast.error({\n    title: 'Error',\n    message:\n      'Sorry, there are no images matching your search query. Please try again!',\n    position: 'topRight',\n  });\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst cardContainer = document.querySelector('.card-container');\n\nexport function renderImgCard(dataArr) {\n  const markupImages = dataArr\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) =>\n        `<li class=\"gallery-item\">\n            <a class=\"gallery-link\" href=\"${largeImageURL}\">\n                <img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\" width=\"360\" height=\"200\"/>\n                <ul class=\"gallery-text-list\">\n                    <li class=\"gallery-text-item\"><h3>Likes</h3><p>${likes}</p></li>\n                    <li class=\"gallery-text-item\"><h3>Views</h3><p>${views}</p></li>\n                    <li class=\"gallery-text-item\"><h3>Comments</h3><p>${comments}</p></li>\n                    <li class=\"gallery-text-item\"><h3>Downloads</h3><p>${downloads}</p></li>\n                </ul>\n            </a>\n        </li>`\n    )\n    .join('');\n  cardContainer.innerHTML = markupImages;\n\n  const lightbox = new SimpleLightbox('.card-container a', {\n    captionsData: 'alt',\n    captionPosition: 'bottom',\n    captionDelay: 250,\n  });\n\n  lightbox.refresh();\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport {\n  getPicturesByQuery,\n  onFetchError,\n  hideSpinner,\n} from './js/pixabay-api';\nimport { renderImgCard } from './js/render-functions';\n\nconst searchForm = document.querySelector('.search-form');\n\nsearchForm.addEventListener('submit', handleSearch);\n\nfunction handleSearch(event) {\n  event.preventDefault();\n  const form = event.currentTarget;\n  const queryValue = form.elements.query.value.trim();\n\n  if (queryValue === '') {\n    iziToast.warning({\n      title: 'Caution',\n      message: 'Please, enter in the photo',\n      position: 'topRight',\n    });\n  } else {\n    getPicturesByQuery(queryValue)\n      .then(data => {\n        if (data.hits.length === 0) {\n          iziToast.warning({\n            title: 'Caution',\n            message:\n              'Sorry, there are no images matching your search query. Please try again!',\n            position: 'topRight',\n          });\n        }\n        renderImgCard(data.hits);\n      })\n      .catch(onFetchError)\n      .finally(() => {\n        form.reset();\n        hideSpinner();\n      });\n  }\n}\n"],"names":["spinner","showSpinner","hideSpinner","getPicturesByQuery","query","API_KEY","res","onFetchError","error","iziToast","cardContainer","renderImgCard","dataArr","markupImages","webformatURL","largeImageURL","tags","likes","views","comments","downloads","SimpleLightbox","searchForm","handleSearch","event","form","queryValue","data"],"mappings":"6vBAGA,MAAMA,EAAU,SAAS,cAAc,SAAS,EAEhD,SAASC,GAAc,CACrBD,EAAQ,MAAM,QAAU,MAC1B,CAEO,SAASE,GAAc,CAC5BF,EAAQ,MAAM,QAAU,MAC1B,CAEO,SAASG,EAAmBC,EAAO,CACxC,MAAMC,EAAU,qCAChB,OAAAJ,IACO,MACL,gCAAgCI,CAAO,MAAMD,CAAK,0DACtD,EAAI,KAAKE,GAAO,CACZ,GAAI,CAACA,EAAI,GACP,MAAM,IAAI,MAAMA,EAAI,MAAM,EAE5B,OAAOA,EAAI,MACf,CAAG,CACH,CAEO,SAASC,EAAaC,EAAO,CAClCC,EAAS,MAAM,CACb,MAAO,QACP,QACE,2EACF,SAAU,UACd,CAAG,CACH,CC9BA,MAAMC,EAAgB,SAAS,cAAc,iBAAiB,EAEvD,SAASC,EAAcC,EAAS,CACrC,MAAMC,EAAeD,EAClB,IACC,CAAC,CACC,aAAAE,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACD,IACC;AAAA,4CACoCL,CAAa;AAAA,kDACPD,CAAY,UAAUE,CAAI;AAAA;AAAA,qEAEPC,CAAK;AAAA,qEACLC,CAAK;AAAA,wEACFC,CAAQ;AAAA,yEACPC,CAAS;AAAA;AAAA;AAAA,cAI7E,EACA,KAAK,EAAE,EACVV,EAAc,UAAYG,EAET,IAAIQ,EAAe,oBAAqB,CACvD,aAAc,MACd,gBAAiB,SACjB,aAAc,GAClB,CAAG,EAEQ,QAAO,CAClB,CC7BA,MAAMC,EAAa,SAAS,cAAc,cAAc,EAExDA,EAAW,iBAAiB,SAAUC,CAAY,EAElD,SAASA,EAAaC,EAAO,CAC3BA,EAAM,eAAc,EACpB,MAAMC,EAAOD,EAAM,cACbE,EAAaD,EAAK,SAAS,MAAM,MAAM,OAEzCC,IAAe,GACjBjB,EAAS,QAAQ,CACf,MAAO,UACP,QAAS,6BACT,SAAU,UAChB,CAAK,EAEDN,EAAmBuB,CAAU,EAC1B,KAAKC,GAAQ,CACRA,EAAK,KAAK,SAAW,GACvBlB,EAAS,QAAQ,CACf,MAAO,UACP,QACE,2EACF,SAAU,UACtB,CAAW,EAEHE,EAAcgB,EAAK,IAAI,CAC/B,CAAO,EACA,MAAMpB,CAAY,EAClB,QAAQ,IAAM,CACbkB,EAAK,MAAK,EACVvB,GACR,CAAO,CAEP"}